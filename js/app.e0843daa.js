(function(){"use strict";var t={2125:function(t,e,a){var r=a(9242),s=a(3396);function n(t,e,a,r,n,o){const i=(0,s.up)("app-header"),d=(0,s.up)("router-view"),l=(0,s.up)("app-footer");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i),(0,s.Wm)(d,{class:"container"}),(0,s.Wm)(l)],64)}const o=(0,s._)("span",{class:"title"},"Vue Trello",-1),i=(0,s.Uk)("Mis paneles");function d(t,e,a,r,n,d){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("header",null,[o,(0,s.Wm)(l,{to:"/",class:"btn-header"},{default:(0,s.w5)((()=>[i])),_:1})])}var l={name:"app-header"},c=a(89);const u=(0,c.Z)(l,[["render",d]]);var p=u;const m=t=>((0,s.dD)("data-v-ed41c49e"),t=t(),(0,s.Cn)(),t),h=m((()=>(0,s._)("span",null,[(0,s.Uk)("Made with ❤. Powered by "),(0,s._)("a",{href:"https://vuejs.org/"},"Vue js."),(0,s.Uk)(" in México.")],-1))),f=[h];function v(t,e,a,r,n,o){return(0,s.wg)(),(0,s.iD)("footer",null,f)}var k={name:"app-footer"};const g=(0,c.Z)(k,[["render",v],["__scopeId","data-v-ed41c49e"]]);var b=g,_={name:"app",components:{AppHeader:p,AppFooter:b}};const T=(0,c.Z)(_,[["render",n]]);var D=T,w=a(678);const S=t=>((0,s.dD)("data-v-003a7662"),t=t(),(0,s.Cn)(),t),C={class:"home"},y=S((()=>(0,s._)("h3",null,"Mis paneles",-1))),L={class:"boards-collection"},I={key:0};function B(t,e,a,n,o,i){const d=(0,s.up)("board-card");return(0,s.wg)(),(0,s.iD)("div",C,[y,(0,s._)("div",L,[t.fetchingData?((0,s.wg)(),(0,s.iD)("span",I,"Cargando...")):(0,s.kq)("",!0),(0,s.wy)((0,s._)("input",{type:"text",placeholder:"Añade un nuevo panel","onUpdate:modelValue":e[0]||(e[0]=t=>o.boardName=t),onKeyup:e[1]||(e[1]=(0,r.D2)((t=>i.add()),["enter"]))},null,544),[[r.nr,o.boardName]]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.boards,((t,e)=>((0,s.wg)(),(0,s.j4)(d,{key:e,name:t.name,id:t.id},null,8,["name","id"])))),128))])])}var A=a(65),E=a(7139);const F={class:"board-card-title"};function O(t,e,a,r,n,o){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(i,{class:"board-card",to:{name:"board",params:{name:a.name,id:a.id}}},{default:(0,s.w5)((()=>[(0,s._)("span",F,(0,E.zw)(a.name),1)])),_:1},8,["to"])}var U={name:"board-card",props:{id:String,name:String}};const j=(0,c.Z)(U,[["render",O],["__scopeId","data-v-085c4891"]]);var H=j,K={name:"HomeView",components:{BoardCard:H},data(){return{boardName:""}},computed:{...(0,A.rn)(["boards","fetchingData"])},methods:{...(0,A.nv)(["fetchBoards","addBoard"]),add(){this.addBoard({name:this.boardName}),this.boardName=""}},created(){this.fetchBoards({user:1})}};const M=(0,c.Z)(K,[["render",B],["__scopeId","data-v-003a7662"]]);var R=M;const N=t=>((0,s.dD)("data-v-19908bfe"),t=t(),(0,s.Cn)(),t),x=N((()=>(0,s._)("h3",null,[(0,s._)("span",null,"Mis Listas")],-1))),Z={key:0},V={class:"container"};function q(t,e,a,n,o,i){const d=(0,s.up)("column");return(0,s.wg)(),(0,s.iD)("section",null,[x,(0,s.wy)((0,s._)("input",{type:"text",placeholder:"Añade una lista","onUpdate:modelValue":e[0]||(e[0]=t=>o.listName=t),onKeyup:e[1]||(e[1]=(0,r.D2)((t=>i.add()),["enter"]))},null,544),[[r.nr,o.listName]]),t.fetchingData?((0,s.wg)(),(0,s.iD)("span",Z,"Loading...")):(0,s.kq)("",!0),(0,s._)("div",V,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.boardList,((t,e)=>((0,s.wg)(),(0,s.j4)(d,{key:e,listId:t.id,name:t.name},null,8,["listId","name"])))),128))])])}function z(t,e,a,r,n,o){const i=(0,s.up)("task-list");return(0,s.wg)(),(0,s.iD)("section",null,[(0,s._)("header",null,[(0,s._)("h3",null,(0,E.zw)(a.name),1)]),(0,s.Wm)(i,{listId:a.listId,tasks:o.tasksList},null,8,["listId","tasks"])])}const P=["onMouseover","onClick"];function W(t,e,a,n,o,i){return(0,s.wg)(),(0,s.iD)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.tasks,((e,a)=>((0,s.wg)(),(0,s.iD)("li",{key:a,class:(0,E.C_)({completed:e.completed}),onMouseover:a=>t.markAsCompleted({task:e}),onClick:a=>t.deleteTask({taskId:e.id})},(0,E.zw)(e.title),43,P)))),128)),(0,s.wy)((0,s._)("input",{type:"text",placeholder:"Añade una nueva tarea","onUpdate:modelValue":e[0]||(e[0]=t=>o.title=t),onKeyup:e[1]||(e[1]=(0,r.D2)((t=>i.add()),["enter"]))},null,544),[[r.nr,o.title]])])}var Y={name:"task-list",props:{listId:String,tasks:Array},data(){return{title:""}},methods:{...(0,A.nv)(["addTask","markAsCompleted","deleteTask"]),add(){this.addTask({list:this.listId,title:this.title}),this.title=""}}};const Q=(0,c.Z)(Y,[["render",W],["__scopeId","data-v-1ac7cc83"]]);var X=Q,G={name:"column",props:{listId:String,name:String},components:{TaskList:X},computed:{...(0,A.Se)(["getTasksFromList"]),tasksList(){return console.log("listId desde Column;",this.listId),console.log("Lista de tareas: ",this.getTasksFromList(this.listId)),this.getTasksFromList(this.listId)}},methods:{...(0,A.nv)(["fetchTasks"])},created(){console.log(this.listId),this.fetchTasks({list:this.listId})}};const J=(0,c.Z)(G,[["render",z],["__scopeId","data-v-249b905d"]]);var $=J,tt={name:"board-view",components:{Column:$},props:{name:String,id:String},data(){return{listName:""}},computed:{...(0,A.rn)(["fetchingData"]),...(0,A.Se)(["getListsByBoard"]),boardList(){return this.getListsByBoard(this.id)}},methods:{...(0,A.nv)(["fetchLists","addColumn"]),add(){this.addColumn({board:this.id,name:this.listName}),this.listName=""}},created(){this.fetchLists({board:this.id})}};const et=(0,c.Z)(tt,[["render",q],["__scopeId","data-v-19908bfe"]]);var at=et;const rt=[{path:"/",name:"home",component:R},{path:"/board/:id",name:"board",component:at,props:!0}],st=(0,w.p7)({history:(0,w.PO)("/vue-trello/"),routes:rt});var nt=st,ot={user:null,fetchingData:!0,error:null,boards:{},lists:{},tasks:{}};const it="FETCH_BOARDS_REQUEST",dt="FETCH_BOARDS_SUCCESS",lt="FETCH_BOARDS_FAILURE",ct="FETCH_LISTS_REQUEST",ut="FETCH_LISTS_SUCCESS",pt="FETCH_LISTS_FAILURE",mt="FETCH_TASKS_REQUEST",ht="FETCH_TASKS_SUCCESS",ft="FETCH_TASKS_FAILURE",vt="ADD_BOARD",kt="ADD_COLUMN",gt="ADD_TASK",bt="DELETED_TASK",_t="MARK_AS_COMPLETED";var Tt={[it](t){t.fetchingData=!0,t.error=null},[dt](t,{boards:e}){t.fetchingData=!1,t.error=null,t.boards={...e}},[lt](t,{error:e}){t.fetchingData=!1,t.error=e},[ct](t){t.fetchingData=!0,t.error=null},[ut](t,{lists:e}){t.fetchingData=!1,t.error=null,t.lists={...e}},[pt](t,{error:e}){t.fetchingData=!1,t.error=e},[mt](t){t.fetchingData=!0,t.error=null},[ht](t,{tasks:e}){t.fetchingData=!1,t.error=null,t.tasks=Object.assign({},t.tasks,e)},[ft](t,{error:e}){t.fetchingData=!1,t.error=e},[vt](t,{board:e}){t.boards[e.id]=e},[kt](t,{column:e}){t.lists[e.id]=e},[gt](t,{task:e}){t.tasks[e.id]=e},[bt](t,{taskId:e}){t.tasks=Object.values(t.tasks).filter((t=>t.id!==e))},[_t](t,{task:e}){e.completed=!e.completed}},Dt=a(4855),wt={apiKey:"AIzaSyB1Q76HMw8ruzAgXCL0Dsqf99VhTOc8FtY",authDomain:"vue-trello-f786b.firebaseapp.com",projectId:"vue-trello-f786b",storageBucket:"vue-trello-f786b.appspot.com",messagingSenderId:"813802944914",appId:"1:813802944914:web:ffd1254a05a9f4912b694b",databaseURL:"https://vue-trello-f786b-default-rtdb.firebaseio.com"};const St=Dt.initializeApp(wt),Ct=St.database();const yt=Ct.ref("/boards"),Lt=Ct.ref("/lists"),It=Ct.ref("/tasks");var Bt={getBoardsByUser(t){const e=yt.orderByChild("owner").equalTo(t);return e.once("value")},postBoard(t){const e=yt.push().key,a=1,r={id:e,name:t,owner:a};return yt.child(e).set(r).then((()=>r))},getListsFromBoard(t){const e=Lt.orderByChild("board").equalTo(t);return e.once("value")},postList(t,e){const a=Lt.push().key,r={id:a,name:e,board:t};return Lt.child(a).set(r).then((()=>r))},getTasksFromList(t){const e=It.orderByChild("list").equalTo(t);return e.once("value")},postTask(t,e){const a=It.push().key,r={id:a,list:t,title:e,completed:!1};return It.child(a).set(r).then((()=>r))},deleteTask(t){return It.child(t).remove()},completedTask(t){const e=It.child(t).child("completed");return e.once("value").then((t=>t.val())).then((t=>e.set(!t)))}},At={fetchBoards({commit:t},{user:e}){t(it),Bt.getBoardsByUser(e).then((e=>t(dt,{boards:e.val()}))).catch((e=>t(lt,{error:e})))},fetchLists({commit:t},{board:e}){t(ct),Bt.getListsFromBoard(e).then((e=>t(ut,{lists:e.val()}))).catch((e=>t(pt,{error:e})))},fetchTasks({commit:t},{list:e}){t(mt),Bt.getTasksFromList(e).then((e=>t(ht,{tasks:e.val()}))).catch((e=>t(ft,{error:e})))},addBoard({commit:t},{name:e}){Bt.postBoard(e).then((e=>t(vt,{board:e})))},addColumn({commit:t},{board:e,name:a}){Bt.postList(e,a).then((e=>t(kt,{column:e})))},addTask({commit:t},{list:e,title:a}){Bt.postTask(e,a).then((e=>t(gt,{task:e})))},deleteTask({commit:t},{taskId:e}){Bt.deleteTask(e).then((()=>t(bt,{taskId:e})))},markAsCompleted({commit:t},{task:e}){Bt.completedTask(e.id).then((()=>t(_t,{task:e})))}},Et={getListsByBoard:t=>e=>Object.values(t.lists).filter((t=>t.board===e)),getTasksFromList:t=>e=>Object.values(t.tasks).filter((t=>t.list===e))};const Ft=!1;var Ot=(0,A.MT)({strict:Ft,state:ot,getters:Et,mutations:Tt,actions:At,modules:{},plugins:Ft?[(0,A.hu)()]:[]});(0,r.ri)(D).use(Ot).use(nt).mount("#app")}},e={};function a(r){var s=e[r];if(void 0!==s)return s.exports;var n=e[r]={exports:{}};return t[r].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,r,s,n){if(!r){var o=1/0;for(c=0;c<t.length;c++){r=t[c][0],s=t[c][1],n=t[c][2];for(var i=!0,d=0;d<r.length;d++)(!1&n||o>=n)&&Object.keys(a.O).every((function(t){return a.O[t](r[d])}))?r.splice(d--,1):(i=!1,n<o&&(o=n));if(i){t.splice(c--,1);var l=s();void 0!==l&&(e=l)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[r,s,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var s,n,o=r[0],i=r[1],d=r[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(d)var c=d(a)}for(e&&e(r);l<o.length;l++)n=o[l],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(c)},r=self["webpackChunkvue_trello"]=self["webpackChunkvue_trello"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(2125)}));r=a.O(r)})();
//# sourceMappingURL=app.e0843daa.js.map